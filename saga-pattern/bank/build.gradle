/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.0.2/samples
 */


buildscript {
    /// 변수 정의
    ext {
        axonVersion = '4.5.3'
        springBootStarterVersion = '2.5.0'
        springVersion = '5.3.7'
        lombokVersion = '1.18.20'
        queryDSLVersion = '4.4.0'
        slf4jVersion = '1.7.25'
        log4jVersion = '2.14.1'
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootStarterVersion}")
        classpath "io.spring.gradle:dependency-management-plugin:1.0.8.RELEASE"
    }
}

plugins {
    // Apply the application plugin to add support for building a CLI application in Java.
    id 'application'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

dependencies {
    // Use JUnit test framework.
    testImplementation 'junit:junit:4.13.1'

    // This dependency is used by the application.
    implementation 'com.google.guava:guava:30.0-jre'


    /* Axon */
    // https://mvnrepository.com/artifact/org.axonframework/axon-configuration
    implementation group: 'org.axonframework', name: 'axon-configuration', version: "${axonVersion}"
    // https://mvnrepository.com/artifact/org.axonframework/axon-server-connector
    implementation group: 'org.axonframework', name: 'axon-server-connector', version:  "${axonVersion}"
    // https://mvnrepository.com/artifact/org.axonframework/axon-spring
    implementation group: 'org.axonframework', name: 'axon-spring', version:  "${axonVersion}"


    // https://mvnrepository.com/artifact/org.axonframework/axon-core
    //implementation group: 'org.axonframework', name: 'axon-core', version: '3.4.3'




    /* Lombok */
    compileOnly 'org.projectlombok:lombok:1.18.20'
    annotationProcessor 'org.projectlombok:lombok:1.18.20'

    testCompileOnly 'org.projectlombok:lombok:1.18.20'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'



    /* Spring */
    /* ======== Spring ========*/
    implementation("org.springframework.boot:spring-boot-starter-parent:${springBootStarterVersion}")
    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-validation', version: "${springBootStarterVersion}"
    implementation("org.springframework.boot:spring-boot-starter-web:${springBootStarterVersion}")
    implementation("org.springframework.boot:spring-boot-starter:${springBootStarterVersion}")
    implementation("org.springframework.boot:spring-boot-starter-tomcat:${springBootStarterVersion}") // war 생성시 주석처리, jar 생성시 필요
    /* implementation("org.springframework.boot:spring-boot-starter-web:${springBootStarterVersion}")
             {
                 // log4j2 사용을 위해 logback 은 제외시킴
                 //   exclude group:'ch.qos.logback'
                 // exclude group:'org.slf4j', module: 'slf4j-log4j12'
                 exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'
                 //  exclude group:'org.springframework.boot:spring-boot-starter-logging'
             }*/
    implementation("org.springframework.boot:spring-boot-starter-log4j2:${springBootStarterVersion}")

    implementation group: 'org.springframework', name: 'spring-core', version: "${springVersion}"
    implementation group: 'org.springframework', name: 'spring-context', version: "${springVersion}"
    implementation group: 'org.springframework', name: 'spring-orm', version: "${springVersion}"
    implementation group: 'org.springframework', name: 'spring-tx', version: "${springVersion}"
    implementation group: 'org.springframework', name: 'spring-beans', version: "${springVersion}"


    /// Spring Data JPA
    implementation group: 'org.springframework.data', name: 'spring-data-jpa', version: "${springBootStarterVersion}"


    // multipart
    implementation group: 'commons-fileupload', name: 'commons-fileupload', version: '1.4'



    /* DB */
    /// PostgreSQL JDBC
    // https://mvnrepository.com/artifact/org.postgresql/postgresql
    implementation group: 'org.postgresql', name: 'postgresql', version: '42.2.20'
    /// Apache Commons DBCP
    // https://mvnrepository.com/artifact/org.apache.commons/commons-dbcp2
    implementation group: 'org.apache.commons', name: 'commons-dbcp2', version: '2.8.0'
    /// hibernate
    // https://mvnrepository.com/artifact/org.hibernate/hibernate-core
    implementation group: 'org.hibernate', name: 'hibernate-core', version: '5.5.0.Final'
    implementation group: 'org.hibernate', name: 'hibernate-spatial', version: '5.5.0.Final'

    /// QueryDSL
    implementation group: 'com.querydsl', name: 'querydsl-jpa', version: "${queryDSLVersion}"
    implementation group: 'com.querydsl', name: 'querydsl-jdo', version: "${queryDSLVersion}"
    implementation group: 'com.querydsl', name: 'querydsl-apt', version: "${queryDSLVersion}"
    implementation group: 'com.querydsl', name: 'querydsl-core', version: "${queryDSLVersion}"
    implementation group: 'com.querydsl', name: 'querydsl-sql', version: "${queryDSLVersion}"
    implementation group: 'com.querydsl', name: 'querydsl-sql-spatial', version: "${queryDSLVersion}"
    implementation group: 'com.querydsl', name: 'querydsl-sql-spring', version: "${queryDSLVersion}"



    /* Log */
    /// SLF4J
    // https://mvnrepository.com/artifact/org.slf4j/slf4j-api
    implementation group: 'org.slf4j', name: 'slf4j-api', version: "${slf4jVersion}"
    implementation group: 'org.slf4j', name: 'slf4j-ext', version: "${slf4jVersion}"

    /// LOG4J2
    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core
    implementation group: 'org.apache.logging.log4j', name: 'log4j-core', version: "${log4jVersion}"
    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-slf4j-impl
    implementation group: 'org.apache.logging.log4j', name: 'log4j-slf4j-impl', version: "${log4jVersion}"
    // https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api
    implementation group: 'org.apache.logging.log4j', name: 'log4j-api', version: "${log4jVersion}"


}

